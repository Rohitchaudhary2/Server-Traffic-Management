<article>
    <h3>
      <div
        [class]="{
          'ticket-open': data().status === 'open',
          'ticket-closed': data().status === 'closed'
        }"
      ></div>
      <button (click)="onToggleDetails()">
        <span class="text">{{ data().title }}</span>
        <span>
          @if (detailsVisible()) {
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              fill-rule="evenodd"
              d="M11.47 7.72a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 1 1-1.06 1.06L12 9.31l-6.97 6.97a.75.75 0 0 1-1.06-1.06l7.5-7.5Z"
              clip-rule="evenodd"
            />
          </svg>
  
          } @else {
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              fill-rule="evenodd"
              d="M16.28 11.47a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06L14.69 12 7.72 5.03a.75.75 0 0 1 1.06-1.06l7.5 7.5Z"
              clip-rule="evenodd"
            />
          </svg>
          }
        </span>
      </button>
    </h3>
  
    @if (detailsVisible()) {
    <p>{{ data().request }}</p>
  
    @if (data().status === 'open') {
    <p><button (click)="onMarkAsCompleted()">Mark as completed</button></p>
    } }
  </article>